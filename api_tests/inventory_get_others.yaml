# Test generated by RoostGPT for test roostPostmanTest using AI Type Azure Open AI and AI Model roost-gpt4-32k

# RoostTestHash=a66f7079af

config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "inventory_get_others.csv"
    fields:
      - "invalidStatus"
    skipHeader: true

scenarios:
  - name: "Inventory API failure cases"
    flow:
      - think: 5
      - log: "Testing invalid URL"
      - get:
          url: "/store/invalidInventory"
          expect:
            - statusCode: 404
          beforeRequest: "{{ $processEnvironment.AUTH_TOKEN_INVALID }}"
      - think: 5
      - log: "Sending invalid API key token"
      - get:
          url: "/store/inventory"
          headers:
            Authorization: "Invalid {{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 403
            - hasProperty: "message"
            - matchJSON: 
                expression: ".message"
                value: "Invalid api key."
      - think: 5
      - log: "Testing with invalid status"
      - get:
          url: "/store/inventory"
          beforeRequest: "{{ $processEnvironment.AUTH_TOKEN }}"
          capture:
            - json: "$.get(variables('invalidStatus'))"
              as: "response"
          expect:
            - statusCode: 400
            - hasProperty: "message"
            - matchJSON: 
                expression: ".message"
                value: "Invalid status."
      - think: 5
      - log: "Testing non-integer inventory quantity"
      - get:
          url: "/store/inventory"
          beforeRequest: "{{ $processEnvironment.AUTH_TOKEN }}"
          capture:
            - json: "$.get('nonInteger')"
              as: "response"
          expect:
            - statusCode: 400
            - hasProperty: "message"
            - matchJSON: 
                expression: ".message"
                value: "Quantity should be an integer."
