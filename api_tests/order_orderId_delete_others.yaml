# Test generated by RoostGPT for test roostPostmanTest using AI Type Azure Open AI and AI Model roost-gpt4-32k

# RoostTestHash=6e4c4bbafe

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 20
  plugins:
    expect: {}
  payload:
    path: "order_orderId_delete_others.csv"
    fields:
      - "orderId"
    skipHeader: true

scenarios:
  - name: "Testing DELETE /store/order/{orderId} endpoint"
    flow:
      - think: 3

      - log: "Sending DELETE request with valid orderId but with invalid token"
        delete:
          url: "/store/order/{{ orderId }}"
          headers:
            Authorization: "Bearer InvalidToken"
          expect:
            - statusCode: 401
              headers:
                'Content-Type': ["application/json; charset=utf-8"]
            # Assuming the response will contain a message property in the body
            - hasProperty: "message"
        # Expect to fail due to incorrect token

      - think: 3

      - log: "Sending DELETE request with invalid orderId"
        delete:
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          url: "/store/order/invalidOrderId"
          expect:
            - statusCode: 400
              headers: 
                'Content-Type': ["application/json; charset=utf-8"]
            - hasProperty: "message"
        # Expect to fail due to invalid orderId

      - think: 3

      - log: "Sending DELETE request with nonexisting orderId"
        delete:
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          url: "/store/order/nonExistingOrderId"
          expect:
            - statusCode: 404
              headers:
                'Content-Type': ["application/json; charset=utf-8"]
            - hasProperty: "message"
        # Expect to fail because the order does not exist
