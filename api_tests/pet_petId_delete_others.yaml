# Test generated by RoostGPT for test roostPostmanTest using AI Type Azure Open AI and AI Model roost-gpt4-32k

# RoostTestHash=fbd3e66b3b

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 2
  payload:
    path: "pet_petId_delete_others.csv"
    fields: ["petId", "api_key"]
    skipHeader: true
  environments:
    staging:
      target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}

scenarios:
 - name: "Delete Pet - Failure Scenarios"
   flow:
     - log: "Invalid URL Test"
       delete:
         url: "/invalid/pet/{{ petId }}"
         headers:
           Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
           api_key: "{{ api_key }}"
           content-type: "application/x-www-form-urlencoded"
         expect:
           - statusCode: 404 # Invalid URL, expecting 404 - Page not found
           - hasProperty: "error"

     - think: 2
      
     - log: "No Auth Provided"
       delete:
         url: "/pet/{{ petId }}"
         headers:
           api_key: "{{ api_key }}"
           content-type: "application/x-www-form-urlencoded"
         expect:
           - statusCode: 401 # No Auth provided, expecting 401 Unauthorized
           - hasProperty: "error"
     
     - think: 2
      
     - log: "Invalid Pet ID Case"
       delete:
         url: "/pet/invalid"
         headers:
           Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
           api_key: "{{ api_key }}"
           content-type: "application/x-www-form-urlencoded"
         expect:
           - statusCode: 400 # Invalid Pet ID, expecting 400
           - hasProperty: "error"

     - think: 2

     - log: "Invalid API Key Case"
       delete:
         url: "/pet/{{ petId }}"
         headers:
           Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
           api_key: "invalidkey"
           content-type: "application/x-www-form-urlencoded"
         expect:
           - statusCode: 400 # Invalid API Key, expecting 400
           - hasProperty: "error"
