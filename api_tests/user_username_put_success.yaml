# Test generated by RoostGPT for test roostPostmanTest using AI Type Azure Open AI and AI Model roost-gpt4-32k

# RoostTestHash=f6e646c39e

config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  override: {headers: {Authorization: 'general'}}
  payload:
    path: "user_username_put_success.csv"
    fields: ["username", "id", "firstName", "lastName", "email", "password", "phone", "userStatus"]
    skipHeader: true

scenarios:
  - name: "API testing for  update user"
    flow:
    - log: "Sending request to API for updating user"
      put:
        url: "/user/{{ username }}"
        headers:
          Content-Type: "application/json"
          Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
        json:
          id: "{{ id }}"
          firstName: "{{ firstName }}"
          lastName: "{{ lastName }}"
          email: "{{ email }}"
          password: "{{ password }}"
          phone: "{{ phone }}"
          userStatus: "{{ userStatus }}"
        expect:
          - hasProperty: "username"
          - hasProperty: "id"
          - hasProperty: "firstName"
          - hasProperty: "lastName"
          - hasProperty: "email"
          - hasProperty: "password"
          - hasProperty: "phone"
          - hasProperty: "userStatus"
          - statusCode: 200
        capture:
          - json: "$.id"
            as: "userId"
      think: 1

    - log: "A user should have been updated"

    - get: "/user/{{ username }}"
      headers: 
          Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
      expect:
        - statusCode: 200
        - hasProperty: "username"
        - equals: 
            - "lastName" 
            - "{{ lastName }}"
      think: 1
